html
	head
		meta(charset='UTF-8')
		meta(name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no')
		meta(name="google-site-verification", content="mxzCJaDCd1z4JOKwtgd79Ms42RJtddyZYPw86pi3pg4")
		meta(name='description', content='Portfolio site of Sergei Myzin')
		meta(name="robots", content="noindex")
		meta(name="author", content="Sergei Myzin")
		title DM | @smyzin
		link(rel='stylesheet', href='/assets/css/main.css')
		link(rel='icon' href='/assets/img/favicon.ico')
		link(rel="stylesheet", href="https://cdn.rawgit.com/robinparisi/tingle/master/src/tingle.css")
		link(href='http://fonts.googleapis.com/css?family=Lato', rel='stylesheet')
		link(rel="stylesheet", href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css")
		link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/font-mfizz/2.3.0/font-mfizz.css")
		script(src="https://l2.io/ip.js?var=ip" type="text/javascript")
		script(src='https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js')
		script(src='https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js')
		script(type='text/javascript').
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			ga('create', 'UA-80514391-1', 'auto');
			ga('send', 'pageview');

	body.post
		script(type='text/javascript', src='/assets/js/functions.js')

		//- <!-- Yandex.Metrika counter -->
		script(type="text/javascript").
			(function (d, w, c) {
				(w[c] = w[c] || []).push(function() {
					try {
						w.yaCounter38250160 = new Ya.Metrika({
							id:38250160,
							clickmap:true,
							trackLinks:true,
							accurateTrackBounce:true,
							webvisor:true,
							ecommerce:"dataLayer"
						});
					} catch(e) { }
				});

				var n = d.getElementsByTagName("script")[0],
					s = d.createElement("script"),
					f = function () { n.parentNode.insertBefore(s, n); };
				s.type = "text/javascript";
				s.async = true;
				s.src = "https://mc.yandex.ru/metrika/watch.js";

				if (w.opera == "[object Opera]") {
					d.addEventListener("DOMContentLoaded", f, false);
				} else { f(); }
			})(document, window, "yandex_metrika_callbacks");

		//- <!-- /Yandex.Metrika counter -->

		script(type="text/javascript").
			window.dataLayer = window.dataLayer || [];

			window.dataLayer.push ({
				"ecommerce": {
					"detail" : {
						"products": [{
							"id": ip
						}]
					}
				}
			});

		.card-wraper
			.card
				.header_card
					img(src='/assets/img/monkey.svg').logo
					h1.title DevMonkeys
				.menu.menu--top
					.menu-cover
						img(src='/assets/img/monkey.svg').logo-menu
						h1.title-menu DevMonkeys
				hr.devider
				.main_container
					.user_container
						.author-profile--page
							img(src="/assets/img/avatar.png" class="author-profile--avatar" alt="Profile of Myzin Sergei")
							h1.author-name
								a(href='/@Myzin', title="Profile of Myzin Sergei", aria-label="Profile of Myzin Sergei").author-name--link Myzin Sergei
							p.author-description I am a self-taught developer and already I can't get enough of coding. My favorite tools are Sass, Jade, jQuery if we consider front-end development. In Back-end I use Python and learn Ruby (of course with relevant frameworks) because I am fully convinced that this tools are the most powerful than others.
							p.author-description Also I have some experience in Illustration and PhotoShop and once in a blue moon I draw some for myself.
							p.author-description.skills-header Main knowledge in:

						.skills-preview
							-var starList = [{icon: 'fa fa-html5', name: 'HTML', numStars: 5}, {icon: 'fa fa-css3', name: 'CSS', numStars: 5}, {icon: 'icon-python', name: 'Python', numStars: 4}, {icon: 'icon-javascript', name: 'JS', numStars: 3}, {icon: 'icon-blackberry', name: 'jQuery', numStars: 3}, {icon: 'icon-ruby', name: 'Ruby', numStars: 1}];
							mixin skill-stars(skill)
								li
									.item-desc
										i(class=skill.icon)
										span.item= skill.name
									.item-progress
										.stars(data-progress=skill.name.toLowerCase())
											span.persent-prog
												-for(var i = 0; i < skill.numStars; i++){
													i.fa.fa-star
												-}
												if skill.numStars < 5
													-for(var i=0; i < 5 -skill.numStars; i++){
														i.fa.fa-star-o
													-}

							ul.skills-preview__list
								for skill in starList
									+skill-stars(skill)

						.author-profile--information(id='buttons-nav')
							button.button-skills.--active(title='All', arial-label='All', data-tag='all')
								span All
							button.button-skills(title='Layout', arial-label='Layout', data-tag='layout')
								span Layout
							button.button-skills(title='CodePen', arial-label='CodePen', data-tag='codepen')
								span CodePen
							button.button-skills(title='Python', arial-label='Python', data-tag='python', style="display: none;")
								span Python
							button.button-skills(title='Ruby', arial-label='Ruby', data-tag='ruby', style="display: none;")
								span Ruby
						hr.devider(style='margin-top: 20px !important;')
						- var workList = [{group: "layout", title: "Futurama", image: "/assets/img/futurama-post.png", description: "Futurama Tribute Page tell us about the main characters of this serial", tags: ["Sass/", "Jade"], link: "http://github.devmonkeys.xyz/freecodecamp-solutions/basic_front_end_development_projects/tribute_page/"}, {group: "layout", title: "Assassin’s Creed: Unity", image: "https://level-design.ru/wp-content/uploads/2016/03/acu-1200x600.jpg", description: "Make depth analysis of Assassin’s Creed: Unity", tags: ["CSS3/", "Jade/", "JS"], link: "http://github.devmonkeys.xyz/posts/assassins-creed-unity"}, {group: "codepen", title: "Illustration", image: "/assets/img/earth_illustration-post.png", description: "Animated Earth Illustration only with CSS and HTML (without any JS)", tags: ["Sass/", "Jade"], link: "http://codepen.io/therealnorman/full/YWqJXZ/"}, {group: "codepen", title: "Twitter widget", image: "/assets/img/twitter-post.png", description: "Redesign a small twitter widget based on Dribbble Illustration", tags: ["Sass/", "Jade"], link: "http://codepen.io/therealnorman/full/YWwWdP/"}, {group: "codepen", title: "Registration card", image: "/assets/img/egistration_card-post.png", description: "Code registration card based on Dribbble Illustration", tags: ["Sass/", "Jade"], link: "http://codepen.io/therealnorman/full/zBrmRo/"}];

						mixin work-card(work)
							.post-block(data-view= work.group)
								p.post-block--header= work.title
								img.post-block--img(src=work.image)
								p.post-block--description= work.description
								p.post-block--tags
									each tag in work.tags
										span= tag
								a.post-block--link(href=work.link, title='Peek details', arial-label='Peek details' target='_blank') Look it

						.skill-container(data-view-tag="all")
							.preloader
							.spinners
								.row
									.spinner.spinner-bounce-bottom

							for work in workList
								+work-card(work)

				hr.post--point(data-symbol="∞")

				.submit-box
					.form(style='display: none;' id='form-sub')
						form(id='form-submit' class='tingle-content-wrapper' onsubmit='sendMail();return false')
							#form-submit-block
								h3 Get in touch with me
								i(class="fa fa-user fa-2x icons" aria-hidden="true")
								input(type='text' id='name-field' class='val' name='name' placeholder='Name*' required maxlength='70')
								i(class="fa fa-check-circle fa-2x check check-name" aria-hidden="true")
								i(class="fa fa-envelope fa-2x icons" aria-hidden="true")
								input(type='email' id='email-field' class='val' name='email' placeholder='Email*' required maxlength='110')
								i(class="fa fa-check-circle fa-2x check check-email" aria-hidden="true")
								i(class="fa fa-comment fa-2x icons" aria-hidden="true")
								textarea(type="text" name='comment' placeholder='Comment' cols='50' row='1' style='resize: vertical;')
								button(id='submit')
									span Get in Touch
					.confirmation(style='display: none;' id='form-conf')
							h3 Thank you for leaving message
							br
							p I got your email, thanks for it. Your feedback and questions are valuable to me. I will answer you as soon as possible.

				.submit-button
					a.hire_me(href='#' title='Contact Me' id='hire') Contact me
					div(id='px' style='display: none;')
					a.resume(href='/assets/files/S.M._resume.pdf' title='Resume' id='resume' target='_blank') Resume (PDF)


				hr.devider(style='margin-top: 20px !important;')
				- var socialList = [{name: 'CodePen', icon: 'fa fa-codepen', link: 'http://codepen.io/therealnorman/'}, {name: 'LinkedIn', icon: 'fa fa-linkedin', link: 'https://www.linkedin.com/in/sergey-myzin-825b9b5'}, {name: 'FCC', icon: 'fa fa-fire', link: 'https://www.freecodecamp.com/smyzin'}, {name: 'GitHub', icon: 'fa fa-github', link: 'https://github.com/smyzin'}];

				mixin social-card(social)
					a(href=social.link target='_blank' title=social.name)
						button.social_button(title=social.name + ' account' aria-label=social.name + ' account')
							i(class=social.icon + ' fa-3x')

				.social-links
					h3 Social accounts
					for social in socialList
						+social-card(social)


		div(style='display: none;') Icons made by #[a(href="http://www.flaticon.com/authors/freepik" title="Freepik") Freepik] from #[a(href="http://www.flaticon.com" title="Flaticon") www.flaticon.com] is licensed by #[a(href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank") CC 3.0 BY]
		script(type='text/javascript').
			var isModal;
			function modalCheck(winPopup, modalWin){
				if(modalWin != ''){
					if(isModal){
						console.log('Close');
						isModal.close();
						isModal = '';

					}else{
						var modal = new tingle.modal();
						isModal = modal;
						modal.setContent(document.querySelector(winPopup).innerHTML);
						modal.open();
					}
				}else{
					var modal = new tingle.modal();
					isModal = modal;
					modal.setContent(document.querySelector(winPopup).innerHTML);
					modal.open();
				}
			}
			$('#hire').on('click', function(e){
				e.preventDefault();
				modalCheck('#form-sub', '');

				$('#name-field').on('input', function() {
					var input=$(this);
					var is_name=input.val();
					if(is_name.length >= 3){
						input.removeClass("invalid").addClass("valid");
						$('.fa-user').css('color', '#a8dba8').removeClass('bounce');
						$('.check-name').show();
						console.log("Name checked");
					}else{
						input.removeClass("valid").addClass("invalid");
						$('.fa-user').css('color', '#f15c5c').addClass('bounce');
						$('.check-name').hide();
						console.log("Name is invalid");
					}
				});

				$('#email-field').on('input', function() {
					var input=$(this);
					var re = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
					var is_email=re.test(input.val());
					if(is_email){
						input.removeClass("invalid").addClass("valid");
						$('.fa-envelope').css('color', '#a8dba8').removeClass('bounce');
						$('.check-email').show();
						console.log("Email checked");
					}else{
						input.removeClass("valid").addClass("invalid");
						$('.fa-envelope').css('color', '#f15c5c').addClass('bounce');
						$('.check-email').hide();
						console.log("Email is invalid");
					}
				});
			});

			function sendMail() {
				var data = {};
				var form = $('#form-submit-block');

				data.name = form.find('[name="name"]').val();
				data.email = form.find('[name="email"]').val();
				data.message = form.find('[name="comment"]').val();

				if($('#name-field').hasClass("valid") && $('#email-field').hasClass("valid")){

					if(data.message != ''){
						var pwm= '<img src="http://lpgenerator.ru/api/leads/add/pixel/?api_key=1635500132bbf2c5&variant=1284055&notify=1&channel=pt&name='+data.name+'&email='+data.email+'&message='+data.message+'" width="1" height="1" />';
						$("#px").append(pwm);
					}else{
						var pnm= '<img src="http://lpgenerator.ru/api/leads/add/pixel/?api_key=1635500132bbf2c5&variant=1284055&notify=1&channel=pt&name='+data.name+'&email='+data.email+'" width="1" height="1" />';
						$("#px").append(pnm);
					}
					console.log('Done');

					modalCheck('#form-sub');
					modalCheck('#form-conf');

				}else if($('#name-field').hasClass("val") || $('#email-field').hasClass("val")){
					if(data.name == ''){$('#name-field').addClass('invalid');}
					if(data.email == ''){$('#email-field').addClass('invalid');}
					if($('#name-field').hasClass("invalid")){
						$('#name-field').removeClass("valid").addClass("invalid");
						$('.fa-user').css('color', '#f15c5c').addClass('bounce');
						$('.check-name').hide();
					}else if($('#email-field').hasClass("invalid")){
						$('#email-field').removeClass("valid").addClass("invalid");
						$('.fa-envelope').css('color', '#f15c5c').addClass('bounce');
						$('.check-email').hide();
					}
				}
			}

			$('#submit').submit(sendMail());

		script(src='https://cdn.rawgit.com/robinparisi/tingle/master/src/tingle.js')
		script(src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js')
		script(src='/assets/js/jquery.cookie.js')
